<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Pop Culture NYC Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
<meta name='viewport' content='initial-scale=1,maximum-scale=1' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
<script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.css' rel='stylesheet' />
<style>

body, html {
  margin:0;
  padding:0;
  height: 100%;
}

<!--CSS FOR MAP -->

#map-container {
            height: 70%;
            padding-bottom: 0px;
            margin: 0px;
}

#map {
        display: block;
        height: 60%;
        width: 50%;
        margin-left: auto;
        margin-right: auto;
}

.popup {
  text-align:center;
}

.popup .slideshow .image{
  display:none;
}

.popup .slideshow .image.active {
  display:block;
}

.popup .slideshow img {
  width:100%;
}

.popup .slideshow .caption {
  background:#eee;
  padding:10px;
}

.popup .cycle {
  padding:10px 0 20px;
}

.popup .cycle a.prev { float:left;
}

.popup .cycle a.next { float:right;
}

/* Adjustments to account for mapbox.css box-sizing rules */
.leaflet-control-zoomslider-knob { width:14px; height:6px; }
.leaflet-container .leaflet-control-zoomslider-body {
  -webkit-box-sizing:content-box;
     -moz-box-sizing:content-box;
          box-sizing:content-box;
  }

<!--End CSS for Map -->

</style>
</head>
  <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="index.html">Home</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="minimap.html">Custom Map</a>
    </div>
  </div>
</nav>
      <div id ="title"><h1>Pop Culture Shops in NYC</h1></div>
            <br><div id="response"><center>By Andrew Austin</center></div></br>

      <div id='map'></div>
      <div id="map-container">

      <div id='map'></div>
      </div>


      <!-- API ACCESS FOR THE MAP -->
      <script src='https://code.jquery.com/jquery-1.11.0.min.js'></script>
      <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoibWFwcGxlZ2EiLCJhIjoiY2lqbzk3aGVlMDB0bHRvbTVvNXB1azZxdyJ9.PpTLv2su5er4AqXhF-LK4A';
      var map = L.mapbox.map('map', 'mapbox.streets', {
        container: 'map',
      });

      var myLayer = L.mapbox.featureLayer().addTo(map);

      var geoJson = [{
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.99739761742607, 40.7157897829261]},
          "properties": {
              'title': 'Dashop',
              'marker-color': '#FFFFFF',
              'marker-symbol': 'shop',
              'marker-size': 'large',

              // Store the image url and caption in an array.
              'images': [
                ['https://i.imgur.com/A2y4XZ0.jpg','Dashop is definitely the smallest store on this map, but despite this they have a bustling inventory of toys, figures, model kits, pop figures and more that literally stretches to the ceiling of the store!'],         
                ['https://i.imgur.com/YI7eM8c.jpg','Dashop is a great place to visit if you are in search of a rare item. The store is usually much less crowded than any of the other locations on this map. Because of this, whatever it is you are looking for, it’s less likely to be found before you find it yourself.'],
                ['<iframe src="https://www.youtube.com/embed/T_HE0AjixrE" style="height:200px;width:300px;" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>','Dashop is definitely a hidden gem within the many stores of manhattan. While I didn’t spend long in the store, I would recommend checking it out!']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.98838604482653, 40.75485521728513]},
          "properties": {
              'title': 'Midtown Comics',
              'marker-color': '#FFFFFF',
              'marker-symbol': 'library',
              'marker-size': 'large',
              'images': [
                ['https://i.imgur.com/dCCDgih.jpg','Midtown Comics is a very popular comic book shop featuring a store located in Times Square. This location features 2 floors containing comic books, action figures, display figures, pop figures, model kits and more!'],
                ['https://i.imgur.com/7zAR6pqh.jpg','The first floor of Midtown Comics houses most of the comic books on display, whereas the second floor is most famous for its small to large scale display figures. These figures range from Marvel characters, DC characters, Star Wars Characters, and many more!'],
                ['http://molloymediaarchaeology.org/images/peacewall3.jpg','Midtown Comics is one of my personal favorite stores almost entirely because of its large scale display figures. If they weren’t so expensive, I would definitely buy one for myself.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.98901659424567, 40.72710231477772]},
          "properties": {
              'title': 'Toy Tokyo',
              'marker-color': '#FFFFFF',
              'marker-symbol': 'shop',
              'marker-size': 'large',
              'images': [
                ['https://i.imgur.com/fCGLXXE.jpg','Toy Tokyo is by far the most diverse shop on this list. From different themed mickey figures, to Godzilla, Toy Tokyo has it all. You want anime figures? They have them. Nightmare Before Christmas? They’ve got that too. Obscure Franken Berry Cereal merch? Why wouldn’t they have it? Toy Tokyo has everything!'],
                ['https://i.imgur.com/1ttMPdT.jpg','Toy Tokyo has two floors, the 1st floor, and a basement. The 1st floor is where most of the merchandise can be found, but if you are looking for anime themed items the basement is the place to go!'],
                ['https://pbs.twimg.com/media/D1eev5CXQAYm_7x.jpg','I love the diversity that’s held within this store. Every time I visit Toy Tokyo they always seem to have found something new that I never would have expected to find!']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.99090645466808, 40.7334817202615]},
          "properties": {
              'title': 'Forbidden Planet',
              'marker-color': '#FFFFFF',
              'marker-symbol': 'library',
              'marker-size': 'large',
              'images': [
                ['https://i.imgur.com/vV3iI8y.jpg','Forbidden Planet may be the largest store on this list. Here they sell comics, apparel, books, manga, figures, board games and more! At the front of the store they have a nice display featuring R2-D2 and the Terminator to welcome you to the store.'],
                ['https://i.imgur.com/XAWpjUu.jpg', 'Forbidden Planet store definitely has enough to keep you occupied for hours. They have as wide a range of figures and books as you would expect a store of their size to have.'],
                ['', 'Forbidden Planet is usually the most crowded of all the stores on this map, as it is a very popular location. This attraction from the public is well deserved as the store definitely delivers on what they promise to have!']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.98818960186371, 40.724696780403065]},
          "properties": {
              'title': '8 bit and up Games',
              'marker-color': '#FFFFFF',
              'marker-symbol': 'shop',
              'marker-size': 'large',
              'images': [
                ['https://i.imgur.com/6GnCptB.jpg','8 Bit and Up Video Games is the only store on this list that is solely dedicated to Video Games. They specialize in retro games but they also have a selection of newer xbox and playstation games as well.'],
                ['https://i.imgur.com/B2SFtyg.jpg','The aspect of 8 Bit and Up that stands out the most to me is its atmosphere. The store features a few arcade machines, so it has a bit of a retro arcade feel to it. This is also complemented by the guitar hero setup they have hanging up towards the back of the store.'],
                ['http://molloymediaarchaeology.org/images/grant_pole4.jpg','8 Bit and Up also has a wide range of retro controllers. They have Atari controllers, old arcade gun controllers, and more. This is in addition to the large amount of retro consoles they have in stock as well.']
              ]
          }
      }];

      // Add custom popup html to each marker.
      myLayer.on('layeradd', function(e) {
          var marker = e.layer;
          var feature = marker.feature;
          var images = feature.properties.images
          var slideshowContent = '';

          for(var i = 0; i < images.length; i++) {
              var img = images[i];

              slideshowContent += '<div class="image' + (i === 0 ? ' active' : '') + '">' +
                                    '<img src="' + img[0] + '" />' +
                                    '<div class="caption">' + img[1] + '</div>' +
                                  '</div>';
          }

          // Create custom popup content
          var popupContent =  '<div id="' + feature.properties.id + '" class="popup">' +
                                  '<h2>' + feature.properties.title + '</h2>' +
                                  '<div class="slideshow">' +
                                      slideshowContent +
                                  '</div>' +
                                  '<div class="cycle">' +
                                      '<a href="#" class="prev">&laquo; Previous</a>' +
                                      '<a href="#" class="next">Next &raquo;</a>' +
                                  '</div>'
                              '</div>';

          // http://leafletjs.com/reference.html#popup
          marker.bindPopup(popupContent,{
              closeButton: false,
              minWidth: 320
          });
      });

      // Add features to the map
      myLayer.setGeoJSON(geoJson);

      $('#map').on('click', '.popup .cycle a', function() {
          var $slideshow = $('.slideshow'),
              $newSlide;

          if ($(this).hasClass('prev')) {
              $newSlide = $slideshow.find('.active').prev();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').last();
              }
          } else {
              $newSlide = $slideshow.find('.active').next();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').first();
              }
          }

          $slideshow.find('.active').removeClass('active').hide();
          $newSlide.addClass('active').show();
          return false;
      });

      <!-- SET THE MAP VIEW HERE -->
      map.setView([40.75, -74], 12);
      </script>
      <br><p><center>If you are a fan of movies, comic books or anime and live in or plan on visiting New York City, then this map is for you! All throughout my life I have been a fan of franchises like Star Wars, Marvel and DC. I’ve enjoyed watching movies, shows and playing video games. Because of these hobbies, I often sought out different stores pertaining to these hobbies. This practice has not only acted as a way of interacting with the media I enjoy in the real world, but also as a way of exploring my community. This search over the years has expanded, and I have now become quite familiar with quite a few stores within New York City. On this map are 5 of my favorite shops to visit whenever I find myself in Manhattan. Each shop is unique in their own right ranging from comic book stores to retro game stores. There is a store for every fan of pop culture on this map.</center></p></br>
    </div>
    </div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="scripts.js"></script>
</body>
</html>
